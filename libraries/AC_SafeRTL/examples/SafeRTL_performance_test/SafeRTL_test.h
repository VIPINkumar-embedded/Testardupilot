#include <vector>

#include <AP_BoardConfig/AP_BoardConfig.h>
#include <AP_HAL/AP_HAL.h>
#include <AP_Math/AP_Math.h>
#include <AC_SafeRTL/AC_SafeRTL.h>

// vectors defined below:
// test_path_before
// test_path_after_adding
// test_path_after_simplifying
// test_path_after_pruning
// test_path_complete

// assume that any point without a comment should be kept
std::vector<Vector3f> test_path_before {
    {0.0, 0.0, 0.0},
    {3.0, 0.0, 0.0}, // simplified
    {3.0, 0.0, 0.0}, // not added
    {6.0, 0.0, 0.0}, // simplified
    {10.0, 0.0, 0.0},
    {10.0, 3.0, 0.0},
    {13.0, 3.0, 0.0},
    {13.0, 6.0, 0.0},
    {16.0, 6.0, 0.0},
    {16.0, 6.0, 1.0}, // not added
    {16.0, 8.0, 1.0},
    {18.0, 8.0, 0.0},
    {20.0, 10.0, 0.0}, // good until here
    {20.0, 10.0, 10.0},
    {23.0, 10.0, 10.0},
    {23.0, 13.0, 10.0},
    {26.0, 13.0, 10.0},
    {26.0, 16.0, 10.0},
    {29.0, 16.0, 10.0},
    {29.0, 19.0, 10.0},
    {32.0, 19.0, 10.0},
    {32.0, 22.0, 10.0},
    {35.0, 22.0, 10.0},
    {35.0, 25.0, 10.0},
    {38.0, 25.0, 10.0},
    {38.0, 28.0, 10.0},
    {41.0, 28.0, 10.0},
    {41.0, 31.0, 10.0},
    {44.0, 31.0, 10.0},
    {44.0, 34.0, 10.0},
    {47.0, 34.0, 10.0},
    {47.0, 37.0, 10.0},
    {51.0, 37.0, 10.0},
    {51.0, 41.0, 10.0},
    {54.0, 41.0, 10.0},
    {54.0, 44.0, 10.0},
    {57.0, 44.0, 10.0},
    {57.0, 47.0, 10.0},
    {60.0, 47.0, 10.0},
    {60.0, 40.0, 10.0},
    {63.0, 40.0, 10.0},
    {63.0, 43.0, 10.0},
    {66.0, 43.0, 10.0},
    {66.0, 46.0, 10.0},
    {69.0, 46.0, 10.0},
    {69.0, 49.0, 10.0},
    {72.0, 49.0, 10.0},
    {72.0, 52.0, 10.0},
    {75.0, 52.0, 10.0},
    {75.0, 55.0, 10.0},

};

std::vector<Vector3f> test_path_after_adding {
    {0.0, 0.0, 0.0},
    {3.0, 0.0, 0.0}, // simplified
    {6.0, 0.0, 0.0}, // simplified
    {10.0, 0.0, 0.0},
    {10.0, 3.0, 0.0},
    {13.0, 3.0, 0.0},
    {13.0, 6.0, 0.0},
    {16.0, 6.0, 0.0},
    {16.0, 8.0, 1.0},
    {18.0, 8.0, 0.0},
    {20.0, 10.0, 0.0},
    {20.0, 10.0, 10.0},
    {23.0, 10.0, 10.0},
    {23.0, 13.0, 10.0},
    {26.0, 13.0, 10.0},
    {26.0, 16.0, 10.0},
    {29.0, 16.0, 10.0},
    {29.0, 19.0, 10.0},
    {32.0, 19.0, 10.0},
    {32.0, 22.0, 10.0},
    {35.0, 22.0, 10.0},
    {35.0, 25.0, 10.0},
    {38.0, 25.0, 10.0},
    {38.0, 28.0, 10.0},
    {41.0, 28.0, 10.0},
    {41.0, 31.0, 10.0},
    {44.0, 31.0, 10.0},
    {44.0, 34.0, 10.0},
    {47.0, 34.0, 10.0},
    {47.0, 37.0, 10.0},
    {51.0, 37.0, 10.0},
    {51.0, 41.0, 10.0},
    {54.0, 41.0, 10.0},
    {54.0, 44.0, 10.0},
    {57.0, 44.0, 10.0},
    {57.0, 47.0, 10.0},
    {60.0, 47.0, 10.0},
    {60.0, 40.0, 10.0},
    {63.0, 40.0, 10.0},
    {63.0, 43.0, 10.0},
    {66.0, 43.0, 10.0},
    {66.0, 46.0, 10.0},
    {69.0, 46.0, 10.0},
    {69.0, 49.0, 10.0},
    {72.0, 49.0, 10.0},
    {72.0, 52.0, 10.0},
    {75.0, 52.0, 10.0},
    {75.0, 55.0, 10.0},
};

std::vector<Vector3f> test_path_after_simplifying {
    {0.0, 0.0, 0.0},
    {10.0, 0.0, 0.0},
    {10.0, 3.0, 0.0},
    {13.0, 3.0, 0.0},
    {13.0, 6.0, 0.0},
    {16.0, 6.0, 0.0},
    {16.0, 8.0, 1.0},
    {18.0, 8.0, 0.0},
    {20.0, 10.0, 0.0},
    {20.0, 10.0, 10.0},
    {23.0, 10.0, 10.0},
    {23.0, 13.0, 10.0},
    {26.0, 13.0, 10.0},
    {26.0, 16.0, 10.0},
    {29.0, 16.0, 10.0},
    {29.0, 19.0, 10.0},
    {32.0, 19.0, 10.0},
    {32.0, 22.0, 10.0},
    {35.0, 22.0, 10.0},
    {35.0, 25.0, 10.0},
    {38.0, 25.0, 10.0},
    {38.0, 28.0, 10.0},
    {41.0, 28.0, 10.0},
    {41.0, 31.0, 10.0},
    {44.0, 31.0, 10.0},
    {44.0, 34.0, 10.0},
    {47.0, 34.0, 10.0},
    {47.0, 37.0, 10.0},
    {51.0, 37.0, 10.0},
    {51.0, 41.0, 10.0},
    {54.0, 41.0, 10.0},
    {54.0, 44.0, 10.0},
    {57.0, 44.0, 10.0},
    {57.0, 47.0, 10.0},
    {60.0, 47.0, 10.0},
    {60.0, 40.0, 10.0},
    {63.0, 40.0, 10.0},
    {63.0, 43.0, 10.0},
    {66.0, 43.0, 10.0},
    {66.0, 46.0, 10.0},
    {69.0, 46.0, 10.0},
    {69.0, 49.0, 10.0},
    {72.0, 49.0, 10.0},
    {72.0, 52.0, 10.0},
    {75.0, 52.0, 10.0},
    {75.0, 55.0, 10.0},
};

std::vector<Vector3f> test_path_after_pruning {
    {0.0, 0.0, 0.0},
    {3.0, 0.0, 0.0}, // simplified
    {6.0, 0.0, 0.0}, // simplified
    {10.0, 0.0, 0.0},
    {10.0, 3.0, 0.0},
    {13.0, 3.0, 0.0},
    {13.0, 6.0, 0.0},
    {16.0, 6.0, 0.0},
    {16.0, 8.0, 1.0},
    {18.0, 8.0, 0.0},
    {20.0, 10.0, 0.0},
    {20.0, 10.0, 10.0},
    {23.0, 10.0, 10.0},
    {23.0, 13.0, 10.0},
    {26.0, 13.0, 10.0},
    {26.0, 16.0, 10.0},
    {29.0, 16.0, 10.0},
    {29.0, 19.0, 10.0},
    {32.0, 19.0, 10.0},
    {32.0, 22.0, 10.0},
    {35.0, 22.0, 10.0},
    {35.0, 25.0, 10.0},
    {38.0, 25.0, 10.0},
    {38.0, 28.0, 10.0},
    {41.0, 28.0, 10.0},
    {41.0, 31.0, 10.0},
    {44.0, 31.0, 10.0},
    {44.0, 34.0, 10.0},
    {47.0, 34.0, 10.0},
    {47.0, 37.0, 10.0},
    {51.0, 37.0, 10.0},
    {51.0, 41.0, 10.0},
    {54.0, 41.0, 10.0},
    {54.0, 44.0, 10.0},
    {57.0, 44.0, 10.0},
    {57.0, 47.0, 10.0},
    {60.0, 47.0, 10.0},
    {60.0, 40.0, 10.0},
    {63.0, 40.0, 10.0},
    {63.0, 43.0, 10.0},
    {66.0, 43.0, 10.0},
    {66.0, 46.0, 10.0},
    {69.0, 46.0, 10.0},
    {69.0, 49.0, 10.0},
    {72.0, 49.0, 10.0},
    {72.0, 52.0, 10.0},
    {75.0, 52.0, 10.0},
    {75.0, 55.0, 10.0},
};

std::vector<Vector3f> test_path_complete {
    {0.0, 0.0, 0.0},
    {10.0, 0.0, 0.0},
    {10.0, 3.0, 0.0},
    {13.0, 3.0, 0.0},
    {13.0, 6.0, 0.0},
    {16.0, 6.0, 0.0},
    {16.0, 8.0, 1.0},
    {18.0, 8.0, 0.0},
    {20.0, 10.0, 0.0},
    {20.0, 10.0, 10.0},
    {23.0, 10.0, 10.0},
    {23.0, 13.0, 10.0},
    {26.0, 13.0, 10.0},
    {26.0, 16.0, 10.0},
    {29.0, 16.0, 10.0},
    {29.0, 19.0, 10.0},
    {32.0, 19.0, 10.0},
    {32.0, 22.0, 10.0},
    {35.0, 22.0, 10.0},
    {35.0, 25.0, 10.0},
    {38.0, 25.0, 10.0},
    {38.0, 28.0, 10.0},
    {41.0, 28.0, 10.0},
    {41.0, 31.0, 10.0},
    {44.0, 31.0, 10.0},
    {44.0, 34.0, 10.0},
    {47.0, 34.0, 10.0},
    {47.0, 37.0, 10.0},
    {51.0, 37.0, 10.0},
    {51.0, 41.0, 10.0},
    {54.0, 41.0, 10.0},
    {54.0, 44.0, 10.0},
    {57.0, 44.0, 10.0},
    {57.0, 47.0, 10.0},
    {60.0, 47.0, 10.0},
    {60.0, 40.0, 10.0},
    {63.0, 40.0, 10.0},
    {63.0, 43.0, 10.0},
    {66.0, 43.0, 10.0},
    {66.0, 46.0, 10.0},
    {69.0, 46.0, 10.0},
    {69.0, 49.0, 10.0},
    {72.0, 49.0, 10.0},
    {72.0, 52.0, 10.0},
    {75.0, 52.0, 10.0},
    {75.0, 55.0, 10.0},
};
